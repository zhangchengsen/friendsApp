{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/Ymtx/Desktop/friends-app/pages/login/login.vue?b122","webpack:///C:/Users/Ymtx/Desktop/friends-app/pages/login/login.vue?cdd9","webpack:///C:/Users/Ymtx/Desktop/friends-app/pages/login/login.vue?d69d","uni-app:///pages/login/login.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;;;AAGpD;AACyK;AACzK,gBAAgB,kLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAmnB,CAAgB,woBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8EvoB;AACA;AACA,gBADA,EADA;;AAIA,QAJA,oBAIA;AACA;AACA;AACA;AACA,OAHA;;AAKA,GAVA;AAWA;AACA;AACA,cAFA;AAGA;AACA;AACA,mCADA;;AAGA,KAPA;AAQA,UARA,oBAQA;AACA;AACA,gBADA;;AAGA,KAZA;AAaA;AACA,gBAdA,0BAcA;AACA;AACA;AACA;AACA,KAlBA;AAmBA;AACA,WApBA,qBAoBA;AACA;AACA;AACA;AACA;AACA;AACA,iCADA;AAEA,iCAFA;AAGA,YAHA,CAGA;AACA;AACA;AACA,SANA,EAMA,KANA,CAMA,0CANA;AAOA,OAVA;;AAYA;AACA;AACA,6BADA;AAEA,4BAFA;AAGA,YAHA,CAGA;;AAEA;AACA;AACA;AACA,oBADA;;AAGA;AACA,yBADA;;;AAIA,SAdA,EAcA,KAdA,CAcA,kCAdA;AAeA;AACA,KAnDA;AAoDA;AACA,UArDA,oBAqDA;AACA;AACA;AACA,sBADA;AAEA,yBAFA;;AAIA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAPA,EAOA,IAPA;AAQA;AACA,0BADA;AAEA;AACA,oBADA,EAFA;AAIA,UAJA,CAIA;AACA;AACA,6BADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA,OAVA;;AAYA,KAnFA,EAXA;;AAgGA,MAhGA,kBAgGA;AACA;AACA,mBADA;AAEA,mBAFA;AAGA,kBAHA;AAIA,kBAJA;AAKA,gBALA;AAMA,kBANA;AAOA,aAPA;;AASA,GA1GA;AA2GA;AACA,YADA,sBACA;AACA;AACA,mBADA;AAEA;AACA,KALA;AAMA,aANA;AAOA;AACA;AACA;AACA,KAVA,EA3GA,E","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=b237504c&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\XB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/login.vue\"\nexport default component.exports","export * from \"-!E:\\\\XB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\XB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\XB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\XB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\XB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\XB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=template&id=b237504c&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\XB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\XB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\XB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\XB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\XB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\XB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\XB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\XB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\XB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\XB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"position-relative animated fadeIn\">\r\n\t\t<view class=\"iconfont icon-guanbi position-absolute right-0 font-lg\" style=\"left: 20rpx;\" :style=\"'top:' + statusHigh+'px;' \"  @click=\"goBack\">\r\n\t\t\t\r\n\t\t</view>\r\n\t\t<template v-if =\"!status\">\r\n\t\t\t<view class=\"text-center\" style=\"color: #64635e; font-size: 50rpx;padding-top: 190rpx;padding-bottom: 100rpx;\" >\r\n\t\t\t\t账号密码登录\r\n\t\t\t</view>\r\n\t\t\t<view class=\"border-bottom m-2\">\r\n\t\t\t\t<input type=\"text\" class=\"p-2\" placeholder=\"昵称/邮箱/手机\" v-model=\"username\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"border-bottom m-2 flex align-center\">\r\n\t\t\t\t<input type=\"password\" class=\"p-2 flex-1\" v-model=\"password\" placeholder=\"请输入密码\" />\r\n\t\t\t\t<text class=\"pr-1\" style=\"color: #6d6c67;\">忘记密码?</text>\r\n\t\t\t</view>\r\n\t\t\t<view @click=\"toLogin\" :style=\"disabled ? 'color:#dcdcdc;' : 'color:#ffffff;' \" class=\" font-lg mx-3 flex align-center justify-center rounded-circle\" style=\"height: 110rpx;background-color: #fd597c; margin-top: 80rpx;\"  >\r\n\t\t\t\t登录\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex align-center justify-center m-4\">\r\n\t\t\t\t<view class=\"\" @click=\"changeStatus\" style=\"color: #3d7275;\">\r\n\t\t\t\t\t<text style=\"color: #F56C6C;\">(推荐)</text>验证码快速登录\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"m-1\">丨</text>\r\n\t\t\t\t<view class=\"\" style=\"color: #3d7275;\" @click=\"toProblems\">\r\n\t\t\t\t\t登录遇到问题\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</template>\r\n\t\t<template v-else>\r\n\t\t\t<view class=\"text-center\" style=\"color: #64635e; font-size: 50rpx;padding-top: 190rpx;padding-bottom: 100rpx;\" >\r\n\t\t\t\t手机验证码\r\n\t\t\t</view>\r\n\t\t\t<view class=\"border-bottom m-2\">\r\n\t\t\t\t<view class=\"flex align-center\">\r\n\t\t\t\t\t<text>+86</text>\r\n\t\t\t\t\t<input type=\"text\" class=\"p-2\" placeholder=\"手机号\" v-model=\"number\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t<view class=\"border-bottom m-2 flex align-center\">\r\n\t\t\t\t<input type=\"text\" class=\"p-2 flex-1\" v-model=\"valueNum\" placeholder=\"请输入收到的验证码\" />\r\n\t\t\t\t<text  @click=\"getNum\" :disabled=\"!canGetNum\" class=\"p-1 rounded flex align-center justify-center\" style=\"min-width: 160rpx;color:white;background-color: #fd597c;\" :style=\" canGetNum ? 'color: #ffffff;' : 'color:#dcdcdc;'   \">{{ canGetNum ?  '发送验证码' : this.time+'s' }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view @click=\"toLogin\" :style=\"disabled ? 'color:#dcdcdc;' : 'color:#ffffff;' \" class=\" font-lg mx-3 flex align-center justify-center rounded-circle\" style=\"height: 110rpx;background-color: #fd597c; margin-top: 80rpx;\"  >\r\n\t\t\t\t登录\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex align-center justify-center m-4\">\r\n\t\t\t\t<view class=\"\" @click=\"changeStatus\" style=\"color: #3d7275;\">\r\n\t\t\t\t\t其他登录方式\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"m-1\">丨</text>\r\n\t\t\t\t<view class=\"\" style=\"color: #3d7275;\" @click=\"toProblems\">\r\n\t\t\t\t\t登录遇到问题\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</template>\r\n\t\t<view class=\"flex justify-center align-center\">\r\n\t\t\t<view class=\"\" style=\"height: 1rpx;background-color: #cacaca;width: 100rpx;\">\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t\t<view class=\"mx-1\" style=\"color: #cacaca;\">\r\n\t\t\t\t社交账号登录\r\n\t\t\t</view>\r\n\t\t\t<view class=\"\" style=\"height: 1rpx;background-color: #cacaca;width: 100rpx;\">\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<login></login>\r\n\t\t<view class=\"text-center\">\r\n\t\t\t<text style=\"color: #cacaca;\">注册代表您同意</text><text style=\"color: #007AFF;\">《XXX社区协议》</text>\r\n\t\t</view>\r\n\t</view>\n</template>\n\n<script>\r\n\timport login from '@/components/login/other_login.vue'\r\n\texport default{\r\n\t\tcomponents:{\r\n\t\t\tlogin\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tthis.statusHigh = res.statusBarHeight\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t//登录遇到问题\r\n\t\t\ttoProblems()\r\n\t\t\t{\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'../problems/problems'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoBack() {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta:1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 切换\r\n\t\t\tchangeStatus() {\r\n\t\t\t\tthis.status = !this.status\r\n\t\t\t\tthis.valueNum = ''\r\n\t\t\t\tthis.password = ''\r\n\t\t\t},\r\n\t\t\t// 登录\r\n\t\t\ttoLogin() {\r\n\t\t\t\tif(this.disabled) return \r\n\t\t\t\tif(!this.status)\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.log(this.username + this.password)\r\n\t\t\t\t\tthis.$http.post('/user/login',{\r\n\t\t\t\t\t\tusername:this.username,\r\n\t\t\t\t\t\tpassword:this.password\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\tthis.$store.commit('changeLoginStatus',res)\r\n\t\t\t\t\t\tthis.$store.dispatch('openSocket')\r\n\t\t\t\t\t}).catch(err=>{console.log(err.message)})\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.$http.post('/user/phonelogin',{\r\n\t\t\t\t\t\tcode:this.valueNum,\r\n\t\t\t\t\t\tphone:this.number\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.$store.commit('changeLoginStatus',res)\r\n\t\t\t\t\t\tthis.$store.dispatch('openSocket')\r\n\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\tdelta:1\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'登录成功'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}).catch(err=>{console.log(err)})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 发送验证码\r\n\t\t\tgetNum () {\r\n\t\t\t\tif(!(/^1[3456789]\\d{9}$/.test(this.number))){ \r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\ttitle:\"手机号码有误\"\r\n\t\t\t\t\t});  \r\n\t\t\t\t} \r\n\t\t\t\tif(!this.canGetNum) return\r\n\t\t\t\t\r\n\t\t\t\tthis.time = 60\r\n\t\t\t\tlet timer = setInterval(()=>{\r\n\t\t\t\t\tif(this.time) this.time--;\r\n\t\t\t\t\telse \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.time = 0\r\n\t\t\t\t\t\tclearInterval(timer)\r\n\t\t\t\t\t}\r\n\t\t\t\t},1000)\r\n\t\t\t\tthis.$http.post('/user/sendcode',{\r\n\t\t\t\t\tphone:this.number\r\n\t\t\t\t},{\r\n\t\t\t\t\tnative:true,\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:res.data.msg,\r\n\t\t\t\t\t\tduration:3000,\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tstatusHigh:0,\r\n\t\t\t\tstatus:false,\r\n\t\t\t\tusername:'',\r\n\t\t\t\tpassword:'',\r\n\t\t\t\tnumber:'',\r\n\t\t\t\tvalueNum:'',\r\n\t\t\t\ttime:0\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\tdisabled() {\r\n\t\t\t\tif((this.username && this.password) || (this.valueNum && this.number) )\r\n\t\t\t\treturn false;\r\n\t\t\t\telse return true\r\n\t\t\t},\r\n\t\t\tcanGetNum()\r\n\t\t\t{\r\n\t\t\t\tif(!this.time) return true;\r\n\t\t\t\t else return false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":""}